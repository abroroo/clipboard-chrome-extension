(()=>{"use strict";function t(t,e){t.classList.remove("active"),e.classList.remove("active"),document.querySelector(".modal-textarea").value=""}function e(t,e){t.textContent=e,t.classList.add("active"),setTimeout((function(){t.classList.remove("active")}),3e3)}var n=[];function c(t){document.querySelector(".clips-container").innerHTML=n.map((function(t){return'\n        <div class="clip-item" data-id="'.concat(t.id,'">\n            <div class="clip-text">').concat(t.text,'</div>\n            <button class="delete-btn" data-id="').concat(t.id,'">x</button>\n        </div>\n    ')})).join(""),document.querySelectorAll(".clip-item").forEach((function(n){n.addEventListener("click",(function(c){if(!c.target.classList.contains("delete-btn")){n.classList.add("active");var a=n.querySelector(".clip-text").textContent;navigator.clipboard.writeText(a).then((function(){e(t,"Copied to clipboard!")}))}}))})),document.querySelectorAll(".delete-btn").forEach((function(e){e.addEventListener("click",(function(a){a.stopPropagation();var o=parseInt(e.dataset.id);n=n.filter((function(t){return t.id!==o})),chrome.storage.local.set({clips:n},(function(){return c(t)}))}))}))}var a,o=function(){var t=document.createElement("div");return t.className="clipboard-floating-btn",t.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>\n            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n        </svg>\n    ',t}(),i=function(){var t=document.createElement("div");return t.className="clipboard-panel",t.innerHTML='\n        <div class="panel-header">\n            <div class="panel-title">Go to Korean...</div>\n            <button class="add-btn">+ New</button>\n        </div>\n        <div class="clips-container"></div>\n    ',t}(),d=function(){var t=document.createElement("div");return t.className="add-clip-modal",t.innerHTML='\n        <h3 style="user-select: none; margin-bottom: 5px;">Add New Clip</h3>\n        <textarea class="modal-textarea" placeholder="Enter text to save..."></textarea>\n        <div class="modal-buttons">\n            <button class="modal-btn cancel-btn">Cancel</button>\n            <button class="modal-btn save-btn">Save</button>\n        </div>\n    ',t}(),r=function(){var t=document.createElement("div");return t.className="modal-overlay",t}(),l=function(){var t=document.createElement("div");return t.className="toast",t}();document.body.appendChild(o),document.body.appendChild(i),document.body.appendChild(d),document.body.appendChild(r),document.body.appendChild(l),a=function(){return c(l)},chrome.storage.local.get(["clips"],(function(t){t.clips&&(n=t.clips,a())})),function(a,o,i,d,r){a.addEventListener("click",(function(){o.classList.toggle("active")})),document.querySelector(".add-btn").addEventListener("click",(function(){i.classList.add("active"),d.classList.add("active"),document.querySelector(".modal-textarea").focus()})),document.querySelector(".cancel-btn").addEventListener("click",(function(){t(i,d)})),d.addEventListener("click",(function(){t(i,d)})),document.addEventListener("click",(function(t){o.contains(t.target)||a.contains(t.target)||i.contains(t.target)||o.classList.remove("active")})),document.querySelector(".save-btn").addEventListener("click",(function(){var a=document.querySelector(".modal-textarea").value.trim();a&&(function(t){n.unshift({id:Date.now(),text:t}),chrome.storage.local.set({clips:n},(function(){return c(r)}))}(a),t(i,d),e(r,"Clip saved successfully!"))}))}(o,i,d,r,l),function(t){var e,n,c=!1;t.addEventListener("mousedown",(function(a){c=!0,e=a.clientY,n=t.getBoundingClientRect().top,document.body.style.userSelect="none"})),document.addEventListener("mousemove",(function(a){if(c){var o=a.clientY-e;t.style.top="".concat(n+o,"px")}})),document.addEventListener("mouseup",(function(){c&&(c=!1,document.body.style.userSelect="")}))}(o)})();